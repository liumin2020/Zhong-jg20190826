<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="../../css/bootstrap.css">
  <link rel="stylesheet" href="../../css/index.css">
</head>
<style>
  .table th,
  .table td {
    text-align: center;
    vertical-align: middle !important;
  }

  .tableMenusPageCanna {
    width: 100%;
    height: 100%;
    padding: 0 2%;
    /* background: powderblue; */
    overflow: hidden;
  }

  .formBackgroundColor {
    width: 100%;
    height: 30px;
    line-height: 30px;
    overflow: hidden;
    font-size: 12px;
    font-weight: 300;
    color: #222;
    text-align: center;
    vertical-align: middle;
    background: palevioletred;
    background: aliceblue;
  }

  .formBackgroundColor .span3 label,
  .formBackgroundColor .span2 label,
  .formBackgroundColor .span3 input,
  .formBackgroundColor .span2 select {
    /* display:inline-block; */
    float: left;
    vertical-align: middle;
    font-size: 12px;
    font-weight: 200;
    font-family: "microsoft yahei";
  }

  .formBackgroundColor .span3 label,
  .formBackgroundColor .span2 label {
    margin: 7px 0 7px 10px;
  }

  .formBackgroundColor .span2 select {
    width: 70%;
    margin-left: 5%;
  }

  .formBackgroundColor input {
    display: inline-block;
    width: 130px;
    font-size: 12px;
    color: #999;
    font-weight: 200;
    vertical-align: middle;
  }

  .formBackgroundColor .span2 button {
    font-size: 12px;
    font-weight: 300;
    font-family: "microsoft yahei";

  }

  .form-horizontal .control-label {
    width: 0;
  }

  .tableDateListInformation {
    width: 100%;
    height: 500px;
    font-size: 12px;
    font-weight: 300;
    font-family: "microsoft yahei";
  }

  .tableDateListInformation table {
    margin-bottom: 0;
  }

  .tableDateListInformation a {
    padding: 1%;
    font-size: 12px;
    font-weight: 300;
    font-family: "microsoft yahei";
    text-align: center;
    text-decoration: none;
  }

  .pagenitionArea {
    width: 100%;
    height: 50px;
    line-height: 50ox;
    /* background: orchid; */
    text-align: center;
    vertical-align: middle;
    font-size: 12px;
    font-weight: 200;
    color: #666;
    font-family: "microsoft yahei";
    font-style: normal;
  }

  .form-horizontal {
    margin: 0;
  }

  .modal-backdrop {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    margin: auto;
    font-size: 12px;
    font-weight: 200;
    font-family: "microsoft yahei";
    background: transparent;
    border-radius: 5px;

  }

  .modal-body table {
    font-size: 12px;
    font-weight: 200;
    font-family: "microsoft yahei";
  }

  #editMyModal label,
  #editMyModal input,
  #addNewUserModal label,
  #addNewUserModal input {
    padding: 11px;
    font-size: 12px;
    font-weight: 200;
    font-family: "microsoft yahei";
  }

  #editMyModal label,
  #addNewUserModal label {
    padding-left: 20%;
    width: 45px;
    margin-right: 0;
    text-align: center;
  }
</style>

<body>
  <!-- tableMenusPageCanna -->
  <div class="tableMenusPageCanna">
    <!-- <ul class="breadcrumb  breadcrumbbackgroundColor">
      <li>
        <a href="#">主页</a>
      </li>
      <li>
        <span class="divider">/</span>
      </li> 执法证申请
    </ul> -->
    <div class="tabbable  tabbableBoxPaddingLeft" id="tabs-182333">
      <ul class="nav nav-tabs">
        <li class="active">
          <a data-toggle="tab" href="#panel-s1">基本信息维护</a>
        </li>
        <li>
          <a data-toggle="tab" href="#panel-s2">部门初审状态查询</a>
        </li>
        <li>
          <a data-toggle="tab" href="#panel-s3">人事部初审状态查询</a>
        </li>
        <li>
          <a data-toggle="tab" href="#panel-s4">执法考试</a>
        </li>
        <li>
          <a data-toggle="tab" href="#panel-s5">法规部审核</a>
        </li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane active" id="panel-s1">
          <!-- form Area -->
          <div class="formBackgroundColor">
            <div class="row-fluid">
              <div class="span3">
                <label>用户编码：</label>
                <input type="text" placeholder="用户编码" class="input-block-level" />
              </div>
              <div class="span3">
                <label>用户名：</label>
                <input type="text" placeholder="请输入用户名" />
              </div>
              <div class="span2">
                <label>机构:</label>
                <select>
                  <option value="Education">Education</option>
                  <option value="IT">IT</option>
                  <option value="Company">Company</option>
                </select>
              </div>
              <div class="span2">
                <label>部门:</label>
                <select>
                  <option value="Education">Education</option>
                  <option value="IT">IT</option>
                  <option value="Company">Company</option>
                </select>
              </div>
              <div class="span2">
                <button>查询</button>
                <a id="addNewUserBtn" href="#addNewUserModal" role="button" class="btn" data-toggle="modal">新建用户</a>
                <!-- <a  class="seeDetail" href="#myModal" role="button" class="btn" data-toggle="modal" >查看</a> -->
              </div>
            </div>
          </div>
          <!--/ form Area -->
          <!-- tableDateListInformation -->
          <div class="tableDateListInformation">
            <table class="table table-bordered table-condensed table-striped table-hover" align="center">
              <thead>
                <tr>
                  <th>顺序</th>
                  <th>用户编码</th>
                  <th>用户名</th>
                  <th>角色</th>
                  <th>机构</th>
                  <th>部门</th>
                  <th>状态</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
            <!-- pagenitionArea   -->
            <div class="pagenitionArea">
              <div class="pagination pagination pagination-small pagination-centered">
                <ul>
                  <li><a href="#">Prev</a></li>
                  <li><a href="#">1</a></li>
                  <li><a href="#">2</a></li>
                  <li><a href="#">3</a></li>
                  <li><a href="#">4</a></li>
                  <li><a href="#">5</a></li>
                  <li><a href="#">Next</a></li>
                </ul>
              </div>
            </div>
            <!-- /  pagenitionArea -->
          </div>
          <!--/ tableDateListInformation -->

        </div>
        <div class="tab-pane" id="panel-s2">
          <h3>
            部门初审已通过
          </h3>
        </div>
        <div class="tab-pane" id="panel-s3">
          <h3>
            人事部门审核已通过，通过时间：2019-08-21
          </h3>
        </div>
        <div class="tab-pane" id="panel-s4">
          <h3>
            您已申请免考，无需参加考试
          </h3>
          <h3>
            您已参加过执法考试，考试成绩：XXXX
          </h3> <button class="btn btn-primary btn-large" type="button">参加考试</button>
        </div>
        <div class="tab-pane" id="panel-s5">
          <h3>
            法规部门审核已通过，通过时间：2019-08-23
          </h3>
        </div>
      </div>
    </div>

    <!-- 点击查看按钮展示详细信息表格 -->
    <!-- Modal -->
    <div id="myModal" class="modal hide " tabindex="-1" role="dialog">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">详细信息</h3>
      </div>
      <div class="modal-body">
        <table class="table table-bordered table-condensed table-striped table-hover" align="center">
          <thead>
            <tr>
              <th>用户编码</th>
              <th>用户名</th>
              <th>角色</th>
              <th>机构</th>
              <th>部门</th>
              <th>状态</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
      </div>
    </div>
    <!-- / Modal -->
    <!-- /  点击查看按钮展示详细信息表格 -->

    <!-- 编辑信息 -->
    <div id="editMyModal" class="modal hide" tabindex="-2" role="dialog">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">编辑信息</h3>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
          <div class="control-group">
            <label class="control-label" for="inputUserName">用户名 : </label>
            <div class="controls">
              <input type="text" id="inputUserName" placeholder="用户名">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputRole">角色 : </label>
            <div class="controls">
              <input type="text" id="inputRole" placeholder="角色">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputOrganization">机构 : </label>
            <div class="controls">
              <input type="text" id="inputOrganization" placeholder="机构">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputDepartment">部门 : </label>
            <div class="controls">
              <input type="text" id="inputDepartment" placeholder="部门">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputStatus">状态 : </label>
            <div class="controls">
              <input type="text" id="inputStatus" placeholder="状态">
            </div>
          </div>


        </form>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true" id="surEditBtn">确定</button>
        <button class="btn" data-dismiss="modal" aria-hidden="true">取消</button>
      </div>

    </div>
    <!--/ 编辑信息 -->

    <!-- 新建用户信息 -->
    <div id="addNewUserModal" class="modal hide" tabindex="-3" role="dialog">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">添加用户信息</h3>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
          <div class="control-group">
            <label class="control-label" for="inputAddUserName">用户名 : </label>
            <div class="controls">
              <input type="text" id="inputAddUserName" placeholder="用户名">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputAddRole">角色 : </label>
            <div class="controls">
              <input type="text" id="inputAddRole" placeholder="角色">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputAddOrganization">机构 : </label>
            <div class="controls">
              <input type="text" id="inputAddOrganization" placeholder="机构">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputAddDepartment">部门 : </label>
            <div class="controls">
              <input type="text" id="inputAddDepartment" placeholder="部门">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputAddStatus">状态 : </label>
            <div class="controls">
              <input type="text" id="inputAddStatus" placeholder="状态">
            </div>
          </div>


        </form>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true" id="surAddBtn">确定</button>
        <button class="btn" data-dismiss="modal" aria-hidden="true">取消</button>
      </div>
    </div>
    <!--/ 新建用户信息 -->
    <!-- /   tableMenusPageCanna -->


    <script src="../../js/jquery.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script>
      $(function () {
        //  动态生成表格
        var datas = [{
            orderNum: '1',
            userCode: "f9013",
            userName: "进出口监事会",
            role: "部门发布员",
            organization: "总会",
            department: "进出口银行监事会办公室",
            status: "启用"
          },
          {
            orderNum: '2',
            userCode: "s9013",
            userName: "资金部",
            role: "部门发布员",
            organization: "总会",
            department: "资金部",
            status: "启用"
          },
          {
            orderNum: '3',
            userCode: "s4013",
            userName: "财险部",
            role: "部门发布员",
            organization: "总会",
            department: "财险部",
            status: "启用"
          },
          {
            orderNum: '4',
            userCode: "l0522",
            userName: "公司治理部",
            role: "部门发布员",
            organization: "总会",
            department: "公司治理部",
            status: "启用"
          },
          {
            orderNum: '5',
            userCode: "sf1111",
            userName: "统信部",
            role: "部门发布员",
            organization: "总会",
            department: "统信部",
            status: "启用"
          },
          {
            orderNum: '6',
            userCode: "zml211",
            userName: "农发行监事部",
            role: "部门发布员",
            organization: "总会",
            department: "农发行监事部办公室",
            status: "启用"
          },
          {
            orderNum: '7',
            userCode: "yH78",
            userName: "管委会",
            role: "部门发布员",
            organization: "总会",
            department: "管委会",
            status: "启用"
          },
          {
            orderNum: '8',
            userCode: "ffss901",
            userName: "中介部",
            role: "部门发布员",
            organization: "总会",
            department: "中介部",
            status: "启用"
          },
          {
            orderNum: '9',
            userCode: "lssf101",
            userName: "风险处理局",
            role: "部门发布员",
            organization: "总会",
            department: "风险处理局",
            status: "启用"
          },
          {
            orderNum: '10',
            userCode: "s0511",
            userName: "党委巡视办",
            role: "部门发布员",
            organization: "总会",
            department: "党委巡视办",
            status: "启用"
          },
          {
            orderNum: '11',
            userCode: "sh1021",
            userName: "办公厅",
            role: "部门发布员",
            organization: "总会",
            department: "办公厅",
            status: "启用"
          }

        ];
        var len=datas.length;

        function tableInfoShow() {
          for (var i = 0; i < datas.length; i++) {
            var o = datas[i];
            var $tr = $("<tr></tr>");
            $tr.appendTo('.tableDateListInformation tbody');
            $('<td></td>').text(o.orderNum).appendTo($tr);
            $('<td></td>').text(o.userCode).appendTo($tr);
            $('<td></td>').text(o.userName).appendTo($tr);
            $('<td></td>').text(o.role).appendTo($tr);
            $('<td></td>').text(o.organization).appendTo($tr);
            $('<td></td>').text(o.department).appendTo($tr);
            $('<td></td>').text(o.status).appendTo($tr);
            $(`<td>
                    <a  class="seeDetail" href="#myModal" role="button" class="btn" data-toggle="modal" >查看</a> |
                    <a class="edit" href="#editMyModal" role="button" class="btn" data-toggle="modal" data-id=${o.orderNum}>编辑</a> |
                    <a href="#" class="del" data-id=${o.orderNum}>删除</a> |
                    <a href="#" class="getRole">分配角色</a> |
                    <a href="#" class="getPro">分配项目</a> |
                    <a href="#" class="resetAgain">重置</a>
                  </td>`).appendTo($tr);
          }
        };
        tableInfoShow();
        //  end --动态生成表格 

        //  查看按钮
        $('.seeDetail').click(function () {
          $('.modal-body tbody').html('');
          var userCodeSee = $(this).parent().prev().prev().prev().prev().prev().prev().html();
          var userNameSee = $(this).parent().prev().prev().prev().prev().prev().html();
          var roleSee = $(this).parent().prev().prev().prev().prev().html();
          var organizationSee = $(this).parent().prev().prev().prev().html();
          var departmentSee = $(this).parent().prev().prev().html();
          var statusSee = $(this).parent().prev().html();
          var $tr = $("<tr></tr>");
          $tr.appendTo('.modal-body tbody');
          $("<td></td>").text(userCodeSee).appendTo($tr);
          $("<td></td>").text(userNameSee).appendTo($tr);
          $("<td></td>").text(roleSee).appendTo($tr);
          $("<td></td>").text(organizationSee).appendTo($tr);
          $("<td></td>").text(departmentSee).appendTo($tr);
          $("<td></td>").text(statusSee).appendTo($tr);
        });
        //  end  --查看按钮

        //点击编辑按钮
        $('.edit').click(function () {
          var id = $(this).attr('data-id');
          var $that = $(this);
          var userNameEdit = $(this).parent().prev().prev().prev().prev().prev().html();
          var roleEdit = $(this).parent().prev().prev().prev().prev().html();
          var organizationEdit = $(this).parent().prev().prev().prev().html();
          var departmentEdit = $(this).parent().prev().prev().html();
          var statusEdit = $(this).parent().prev().html();
          $('#editMyModal #inputUserName').val(userNameEdit);
          $('#editMyModal #inputRole').val(roleEdit);
          $('#editMyModal #inputOrganization').val(organizationEdit);
          $('#editMyModal #inputDepartment').val(departmentEdit);
          $('#editMyModal #inputStatus').val(statusEdit);

          $('#editMyModal #surEditBtn').click(function () {
            console.log(id);
            var inputUserNameSur = $('#editMyModal #inputUserName').val();
            var inputRoleSur = $('#editMyModal #inputRole').val();
            var inputOrganizationSur = $('#editMyModal #inputOrganization').val();
            var inputDepartmentSur = $('#editMyModal #inputDepartment').val();
            var inputStatusSur = $('#editMyModal #inputStatus').val();
            $that.parent().prev().prev().prev().prev().prev().text(inputUserNameSur);
            $that.parent().prev().prev().prev().prev().text(inputRoleSur);
            $that.parent().prev().prev().prev().text(inputOrganizationSur);
            $that.parent().prev().prev().text(inputDepartmentSur);
            $that.parent().prev().text(inputStatusSur);

          })

        });
        // end  --点击编辑按钮


        /* 新建用户 */
        $('#addNewUserBtn').click(function () {
          var newUserNameVal = $('#addNewUserModal #inputAddUserName').val();
          var newUserRoleVal = $('#addNewUserModal #inputAddRole').val();
          var newUserOrganizationVal = $('#addNewUserModal #inputAddOrganization').val();
          var newUserDepartmentVal = $('#addNewUserModal #inputAddDepartment').val();
          var newUserStatusVal = $('#addNewUserModal #inputAddStatus').val();

          //声明一个随机数变量，默认为1
          var GetRandomn = 1;
          var timestamp = new Date().getTime();
          GetRandomn = Math.floor(Math.random() * 100 + timestamp + 1);
          var strCode = 'ls' + GetRandomn;

          var newUserInforObj = {};
          newUserInforObj.orderNum =len+1+'';
          newUserInforObj.userCode = strCode;
          newUserInforObj.userName = newUserNameVal;
          newUserInforObj.role = newUserRoleVal;
          newUserInforObj.organization = newUserOrganizationVal;
          newUserInforObj.department = newUserDepartmentVal;
          newUserInforObj.status = newUserStatusVal;
          datas.push(newUserInforObj);
          
          newUserInforObj = {};
          tableInfoShow();
          console.log(len);
          $('#addNewUserModal #inputAddUserName').val('');
          $('#addNewUserModal #inputAddRole').val('');
          $('#addNewUserModal #inputAddOrganization').val('');
          $('#addNewUserModal #inputAddDepartment').val('');
          $('#addNewUserModal #inputAddStatus').val('');
        
        });

        /* end --新建用户 */


        //点击删除按钮
        $('.del').click(function () {
           var id=$(this).attr('data-id');
           console.log(id);
          var isOk = confirm('您确定要删除吗？');
          if (isOk) {
            $(this).parent().parent().remove();
            
          }
        });
        // end --点击删除按钮

      });
    </script>

</body>

</html>